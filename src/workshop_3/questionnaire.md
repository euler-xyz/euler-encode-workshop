## Workshop 3 Assignment Answers:

1. How many sub-accounts does an Ethereum address have on the EVC? How are their addresses calculated?  
   Answer: An Ethereum address has 256 sub-accounts on the EVC. The addresses of these sub-accounts are generated by XORing the sub-account ID with the owning address.

2. Does the sub-account system decrease the security of user accounts?  
   Answer: No, the sub-account system does not reduce the security of user accounts; instead it enhances security.

3. Provide a couple of use cases for the operator functionality of the EVC.  
   Answer: Operators can be used for a Hot Wallet for Trading, Emergency Close-Out Contract, and to automate actions based on market conditions.

4. What is the main difference between the operator and the controller?  
   Answer: The main difference between an operator and a controller in the Ethereum Vault Connector (EVC) is that an account can have only one controller at a time, which controls the collateral assets for purposes like liquidation. In contrast, each sub-account can install multiple operators who can perform various actions, such as trading or executing contracts based on market conditions. Operators can be disabled at any time by the users, unlike controllers.

5. What does it mean to defer the account and vault status checks? What is the purpose of this deferral?  
   Answer: Deferring account and vault status checks in the Ethereum Vault Connector means that they will be verified later, usually at the end of a batch of operations. This deferral lowers gas costs while also allowing checks to be temporarily violated in the middle of the batch.

6. Why is it useful to allow re-entrancy for `call` and `batch` functions?  
   Answer: Allowing re-entrancy for the 'call' and 'batch' functions in the Ethereum Vault Connector (EVC) makes it easier to execute multiple contract invocations in batches. This enables atomic operations, deferred liquidity checking, and conditional checks, thereby increasing transaction processing efficiency and flexibility.

7. How does the simulation feature of the EVC work?
   Answer: The Ethereum Vault Connector (EVC) simulation feature works by calling 'batchSimulation()' rather than 'batch()'. Unlike regular batch calls, simulations process return data from each item in the batch. This is accomplished by running the batch, collecting the return data, and returning with this data as error information. The process entails attempting to catch the exception and returning the captured error data. This mechanism works even on nodes that may modify error data.

8. Provide a couple of use cases for the `permit` functionality of the EVC.
   Answer: 
   1. Conditional or Contingent Orders: 'Permit' supports "resting" orders, which are permit messages that remain in the mempool until certain conditions are met. These conditions can be based on time, price, or another on-chain metric, such as volatility.
   2. Enabling User Interfaces Without Blockchain Transactions: It allows for the creation of UIs that do not require users to initiate blockchain transactions. Instead, they sign permit messages with a "tip" to whoever completes the transaction.

9. What is the purpose of the nonce namespace?
   Answer: The Ethereum Vault Connector (EVC) nonce namespace divides orders into distinct "streams" of execution. It makes it possible for conditions to "merge" streams together by examining the state of other namespaces. In situations where Ethereum's stringent nonce-order may be detrimental, such as sub-accounts and contingent orders, it is extremely helpful for handling unrelated transactions.

10. Why should the EVC neither be given any privileges nor hold any tokens?
   Answer:The Ethereum Vault Connector (EVC) avoids holding tokens or privileges to prevent misuse and lower its vulnerability to attacks, maintaining neutrality and lowering security risks.
